.\" **************************************************************************
.\" *                                  _   _ ____  _
.\" *  Project                     ___| | | |  _ \| |
.\" *                             / __| | | | |_) | |
.\" *                            | (__| |_| |  _ <| |___
.\" *                             \___|\___/|_| \_\_____|
.\" *
.\" * Copyright (C) 1998 - 2020, Daniel Stenberg, <daniel@haxx.se>, et al.
.\" *
.\" * This software is licensed as described in the file COPYING, which
.\" * you should have received as part of this distribution. The terms
.\" * are also available at https://carl.se/docs/copyright.html.
.\" *
.\" * You may opt to use, copy, modify, merge, publish, distribute and/or sell
.\" * copies of the Software, and permit persons to whom the Software is
.\" * furnished to do so, under the terms of the COPYING file.
.\" *
.\" * This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
.\" * KIND, either express or implied.
.\" *
.\" **************************************************************************
.\"
.TH carl_easy_getinfo 3 "11 Feb 2009" "libcarl 7.19.4" "libcarl Manual"
.SH NAME
carl_easy_getinfo - extract information from a carl handle
.SH SYNOPSIS
.B #include <carl/carl.h>

.B "CARLcode carl_easy_getinfo(CARL *carl, CARLINFO info, ... );"

.SH DESCRIPTION
Request internal information from the carl session with this function.  The
third argument \fBMUST\fP be a pointer to a long, a pointer to a char *, a
pointer to a struct carl_slist * or a pointer to a double (as this
documentation describes further down).  The data pointed-to will be filled in
accordingly and can be relied upon only if the function returns CARLE_OK.  Use
this function AFTER a performed transfer if you want to get transfer related
data.

You should not free the memory returned by this function unless it is
explicitly mentioned below.
.SH AVAILABLE INFORMATION
The following information can be extracted:
.IP CARLINFO_EFFECTIVE_METHOD
Last used HTTP method.
See \fICARLINFO_EFFECTIVE_METHOD(3)\fP
.IP CARLINFO_EFFECTIVE_URL
Last used URL.
See \fICARLINFO_EFFECTIVE_URL(3)\fP
.IP CARLINFO_RESPONSE_CODE
Last received response code.
See \fICARLINFO_RESPONSE_CODE(3)\fP
.IP CARLINFO_HTTP_CONNECTCODE
Last proxy CONNECT response code.
See \fICARLINFO_HTTP_CONNECTCODE(3)\fP
.IP CARLINFO_HTTP_VERSION
The http version used in the connection.
See \fICARLINFO_HTTP_VERSION(3)\fP
.IP CARLINFO_FILETIME
Remote time of the retrieved document. See \fICARLINFO_FILETIME(3)\fP
.IP CARLINFO_FILETIME_T
Remote time of the retrieved document. See \fICARLINFO_FILETIME_T(3)\fP
.IP CARLINFO_TOTAL_TIME
Total time of previous transfer.
See \fICARLINFO_TOTAL_TIME(3)\fP
.IP CARLINFO_TOTAL_TIME_T
Total time of previous transfer.
See \fICARLINFO_TOTAL_TIME_T(3)\fP
.IP CARLINFO_NAMELOOKUP_TIME
Time from start until name resolving completed.
See \fICARLINFO_NAMELOOKUP_TIME(3)\fP
.IP CARLINFO_NAMELOOKUP_TIME_T
Time from start until name resolving completed.
See \fICARLINFO_NAMELOOKUP_TIME_T(3)\fP
.IP CARLINFO_CONNECT_TIME
Time from start until remote host or proxy completed.
See \fICARLINFO_CONNECT_TIME(3)\fP
.IP CARLINFO_CONNECT_TIME_T
Time from start until remote host or proxy completed.
See \fICARLINFO_CONNECT_TIME_T(3)\fP
.IP CARLINFO_APPCONNECT_TIME
Time from start until SSL/SSH handshake completed.
See \fICARLINFO_APPCONNECT_TIME(3)\fP
.IP CARLINFO_APPCONNECT_TIME_T
Time from start until SSL/SSH handshake completed.
See \fICARLINFO_APPCONNECT_TIME_T(3)\fP
.IP CARLINFO_PRETRANSFER_TIME
Time from start until just before the transfer begins.
See \fICARLINFO_PRETRANSFER_TIME(3)\fP
.IP CARLINFO_PRETRANSFER_TIME_T
Time from start until just before the transfer begins.
See \fICARLINFO_PRETRANSFER_TIME_T(3)\fP
.IP CARLINFO_STARTTRANSFER_TIME
Time from start until just when the first byte is received.
See \fICARLINFO_STARTTRANSFER_TIME(3)\fP
.IP CARLINFO_STARTTRANSFER_TIME_T
Time from start until just when the first byte is received.
See \fICARLINFO_STARTTRANSFER_TIME_T(3)\fP
.IP CARLINFO_REDIRECT_TIME
Time taken for all redirect steps before the final transfer.
See \fICARLINFO_REDIRECT_TIME(3)\fP
.IP CARLINFO_REDIRECT_TIME_T
Time taken for all redirect steps before the final transfer.
See \fICARLINFO_REDIRECT_TIME_T(3)\fP
.IP CARLINFO_REDIRECT_COUNT
Total number of redirects that were followed.
See \fICARLINFO_REDIRECT_COUNT(3)\fP
.IP CARLINFO_REDIRECT_URL
URL a redirect would take you to, had you enabled redirects.
See \fICARLINFO_REDIRECT_URL(3)\fP
.IP CARLINFO_SIZE_UPLOAD
(Deprecated) Number of bytes uploaded.
See \fICARLINFO_SIZE_UPLOAD(3)\fP
.IP CARLINFO_SIZE_UPLOAD_T
Number of bytes uploaded.
See \fICARLINFO_SIZE_UPLOAD_T(3)\fP
.IP CARLINFO_SIZE_DOWNLOAD
(Deprecated) Number of bytes downloaded.
See \fICARLINFO_SIZE_DOWNLOAD(3)\fP
.IP CARLINFO_SIZE_DOWNLOAD_T
Number of bytes downloaded.
See \fICARLINFO_SIZE_DOWNLOAD_T(3)\fP
.IP CARLINFO_SPEED_DOWNLOAD
(Deprecated) Average download speed.
See \fICARLINFO_SPEED_DOWNLOAD(3)\fP
.IP CARLINFO_SPEED_DOWNLOAD_T
Average download speed.
See \fICARLINFO_SPEED_DOWNLOAD_T(3)\fP
.IP CARLINFO_SPEED_UPLOAD
(Deprecated) Average upload speed.
See \fICARLINFO_SPEED_UPLOAD(3)\fP
.IP CARLINFO_SPEED_UPLOAD_T
Average upload speed.
See \fICARLINFO_SPEED_UPLOAD_T(3)\fP
.IP CARLINFO_HEADER_SIZE
Number of bytes of all headers received.
See \fICARLINFO_HEADER_SIZE(3)\fP
.IP CARLINFO_REQUEST_SIZE
Number of bytes sent in the issued HTTP requests.
See \fICARLINFO_REQUEST_SIZE(3)\fP
.IP CARLINFO_SSL_VERIFYRESULT
Certificate verification result.
See \fICARLINFO_SSL_VERIFYRESULT(3)\fP
.IP CARLINFO_PROXY_ERROR
Detailed proxy error.
See \fICARLINFO_PROXY_ERROR(3)\fP
.IP CARLINFO_PROXY_SSL_VERIFYRESULT
Proxy certificate verification result.
See \fICARLINFO_PROXY_SSL_VERIFYRESULT(3)\fP
.IP CARLINFO_SSL_ENGINES
A list of OpenSSL crypto engines.
See \fICARLINFO_SSL_ENGINES(3)\fP
.IP CARLINFO_CONTENT_LENGTH_DOWNLOAD
(Deprecated) Content length from the Content-Length header.
See \fICARLINFO_CONTENT_LENGTH_DOWNLOAD(3)\fP
.IP CARLINFO_CONTENT_LENGTH_DOWNLOAD_T
Content length from the Content-Length header.
See \fICARLINFO_CONTENT_LENGTH_DOWNLOAD_T(3)\fP
.IP CARLINFO_CONTENT_LENGTH_UPLOAD
(Deprecated) Upload size. See \fICARLINFO_CONTENT_LENGTH_UPLOAD(3)\fP
.IP CARLINFO_CONTENT_LENGTH_UPLOAD_T
Upload size.  See \fICARLINFO_CONTENT_LENGTH_UPLOAD_T(3)\fP
.IP CARLINFO_CONTENT_TYPE
Content type from the Content-Type header.
See \fICARLINFO_CONTENT_TYPE(3)\fP
.IP CARLINFO_RETRY_AFTER
The value from the from the Retry-After header.
See \fICARLINFO_RETRY_AFTER(3)\fP
.IP CARLINFO_PRIVATE
User's private data pointer.
See \fICARLINFO_PRIVATE(3)\fP
.IP CARLINFO_HTTPAUTH_AVAIL
Available HTTP authentication methods.
See \fICARLINFO_HTTPAUTH_AVAIL(3)\fP
.IP CARLINFO_PROXYAUTH_AVAIL
Available HTTP proxy authentication methods.
See \fICARLINFO_PROXYAUTH_AVAIL(3)\fP
.IP CARLINFO_OS_ERRNO
The errno from the last failure to connect.
See \fICARLINFO_OS_ERRNO(3)\fP
.IP CARLINFO_NUM_CONNECTS
Number of new successful connections used for previous transfer.
See \fICARLINFO_NUM_CONNECTS(3)\fP
.IP CARLINFO_PRIMARY_IP
IP address of the last connection.
See \fICARLINFO_PRIMARY_IP(3)\fP
.IP CARLINFO_PRIMARY_PORT
Port of the last connection.
See \fICARLINFO_PRIMARY_PORT(3)\fP
.IP CARLINFO_LOCAL_IP
Local-end IP address of last connection.
See \fICARLINFO_LOCAL_IP(3)\fP
.IP CARLINFO_LOCAL_PORT
Local-end port of last connection.
See \fICARLINFO_LOCAL_PORT(3)\fP
.IP CARLINFO_COOKIELIST
List of all known cookies.
See \fICARLINFO_COOKIELIST(3)\fP
.IP CARLINFO_LASTSOCKET
Last socket used.
See \fICARLINFO_LASTSOCKET(3)\fP
.IP CARLINFO_ACTIVESOCKET
The session's active socket.
See \fICARLINFO_ACTIVESOCKET(3)\fP
.IP CARLINFO_FTP_ENTRY_PATH
The entry path after logging in to an FTP server.
See \fICARLINFO_FTP_ENTRY_PATH(3)\fP
.IP CARLINFO_CERTINFO
Certificate chain.
See \fICARLINFO_CERTINFO(3)\fP
.IP CARLINFO_TLS_SSL_PTR
TLS session info that can be used for further processing.
See \fICARLINFO_TLS_SSL_PTR(3)\fP
.IP CARLINFO_TLS_SESSION
TLS session info that can be used for further processing.  See
\fICARLINFO_TLS_SESSION(3)\fP. Deprecated option, use
\fICARLINFO_TLS_SSL_PTR(3)\fP instead!
.IP CARLINFO_CONDITION_UNMET
Whether or not a time conditional was met or 304 HTTP response.
See \fICARLINFO_CONDITION_UNMET(3)\fP
.IP CARLINFO_RTSP_SESSION_ID
RTSP session ID.
See \fICARLINFO_RTSP_SESSION_ID(3)\fP
.IP CARLINFO_RTSP_CLIENT_CSEQ
RTSP CSeq that will next be used.
See \fICARLINFO_RTSP_CLIENT_CSEQ(3)\fP
.IP CARLINFO_RTSP_SERVER_CSEQ
RTSP CSeq that will next be expected.
See \fICARLINFO_RTSP_SERVER_CSEQ(3)\fP
.IP CARLINFO_RTSP_CSEQ_RECV
RTSP CSeq last received.
See \fICARLINFO_RTSP_CSEQ_RECV(3)\fP
.IP CARLINFO_PROTOCOL
The protocol used for the connection. (Added in 7.52.0)
See \fICARLINFO_PROTOCOL(3)\fP
.IP CARLINFO_SCHEME
The scheme used for the connection. (Added in 7.52.0)
See \fICARLINFO_SCHEME(3)\fP
.SH TIMES
.nf
An overview of the six time values available from carl_easy_getinfo()

carl_easy_perform()
    |
    |--NAMELOOKUP
    |--|--CONNECT
    |--|--|--APPCONNECT
    |--|--|--|--PRETRANSFER
    |--|--|--|--|--STARTTRANSFER
    |--|--|--|--|--|--TOTAL
    |--|--|--|--|--|--REDIRECT
.fi
.IP NAMELOOKUP
\fICARLINFO_NAMELOOKUP_TIME\fP and \fICARLINFO_NAMELOOKUP_TIME_T\fP.
The time it took from the start until the name resolving was completed.
.IP CONNECT
\fICARLINFO_CONNECT_TIME\fP and \fICARLINFO_CONNECT_TIME_T\fP.
The time it took from the start until the connect
to the remote host (or proxy) was completed.
.IP APPCONNECT
\fICARLINFO_APPCONNECT_TIME\fP and \fICARLINFO_APPCONNECT_TIME_T\fP.
The time it took from the start until the SSL
connect/handshake with the remote host was completed. (Added in 7.19.0)
The latter is the integer version (measuring microseconds).  (Added in 7.60.0)
.IP PRETRANSFER
\fICARLINFO_PRETRANSFER_TIME\fP and \fICARLINFO_PRETRANSFER_TIME_T\fP.
The time it took from the start until the
file transfer is just about to begin. This includes all pre-transfer commands
and negotiations that are specific to the particular protocol(s) involved.
.IP STARTTRANSFER
\fICARLINFO_STARTTRANSFER_TIME\fP and \fICARLINFO_STARTTRANSFER_TIME_T\fP.
The time it took from the start until the
first byte is received by libcarl.
.IP TOTAL
\fICARLINFO_TOTAL_TIME\fP and \fICARLINFO_TOTAL_TIME_T\fP.
Total time of the previous request.
.IP REDIRECT
\fICARLINFO_REDIRECT_TIME\fP and \fICARLINFO_REDIRECT_TIME_T\fP.
The time it took for all redirection steps
include name lookup, connect, pretransfer and transfer before final
transaction was started. So, this is zero if no redirection took place.
.SH RETURN VALUE
If the operation was successful, CARLE_OK is returned. Otherwise an
appropriate error code will be returned.
.SH "SEE ALSO"
.BR carl_easy_setopt "(3)"
